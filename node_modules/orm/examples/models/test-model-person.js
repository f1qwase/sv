module.exports = function (db, cb) {
	db.load("./test-model-pet", function (err) {
		if (err) return cb(err);

		db.define("person", {
			name      : String,
			surname   : { type: "text", size: 150, unique: true, defaultValue: "Doe" },
			age       : { type: "number", unsigned: true },
			continent : [ 'Europe', 'America', 'Asia', 'Africa', 'Australia', 'Antartica' ],
			male      : Boolean,
			dt        : { type: "date", time: false },
			photo     : { type: "binary", lazyload: true, lazyname: "avatar" },
			info      : Object
		}, {
			id        : "PESSOA",
			validations: {
				age: db.validators.rangeNumber(18, undefined, "under-age")
			}
		});
		db.models.person.hasMany("pets", db.models.pet, {
			nickname  : { type: "text", size: 50, defaultValue: "x" }
		}, {
			reverse   : "owners"
		});

		db.models.pet.hasOne("owner", db.models.person, {
			reverse : "children"
		});

		return cb();
	});
};
